{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport cardItem from '../components/cardItem.vue';\nimport { CardList } from \"../js/cardListInfo\";\nimport { CardAttr, CardCost, CardQuality } from \"../js/cardAttr\";\nexport default {\n  name: 'App',\n\n  mounted() {\n    this.searchedCardList = [...CardList];\n    this.getCurrPageCardList();\n  },\n\n  data() {\n    return {\n      CardList,\n      CardAttr,\n      CardCost,\n      CardQuality,\n      activeLeftNames: [],\n      activeRightNames: [],\n      pageIndex: 1,\n      pageSize: 20,\n      currPageCardList: [],\n      searchedCardList: [],\n      pageSizeList: [20, 40, 60, 80, 100],\n      searchQuery: {\n        kewWord: '',\n        attr: '',\n        cost: '',\n        quality: '',\n        category: ''\n      }\n    };\n  },\n\n  components: {\n    cardItem\n  },\n  methods: {\n    // 获取当前页码的数据\n    getCurrPageCardList() {\n      this.currPageCardList = [];\n      const start = (this.pageIndex - 1) * this.pageSize;\n      const end = this.pageIndex * this.pageSize;\n      this.currPageCardList = this.searchedCardList.slice(start, end);\n    },\n\n    // 页面容量改变时\n    pageSizeChange(pageSize) {\n      this.pageIndex = 1;\n      this.pageSize = pageSize;\n      this.getCurrPageCardList();\n    },\n\n    // 切换页码\n    pageIndexChange(pageIndex) {\n      this.pageIndex = pageIndex;\n      this.getCurrPageCardList();\n    },\n\n    // 搜索功能\n    searchCardList() {\n      this.pageIndex = 1;\n      this.searchedCardList = [...CardList];\n\n      if (this.searchQuery.kewWord) {\n        // 当输入关键字时\n        let arr = [];\n        this.searchedCardList.forEach(element => {\n          if (element.name.search(this.searchQuery.kewWord) != -1) {\n            arr.push(element);\n          }\n        });\n        this.searchedCardList = [...arr];\n      }\n\n      if (this.searchQuery.attr) {\n        // 当选择五行属性时\n        let arr = [];\n        this.searchedCardList.forEach(element => {\n          if (element.attr == this.searchQuery.attr) {\n            arr.push(element);\n          }\n        });\n        this.searchedCardList = [...arr];\n      }\n\n      if (this.searchQuery.cost || this.searchQuery.cost === 0) {\n        // 当选择卡牌费用时\n        let arr = [];\n        this.searchedCardList.forEach(element => {\n          if (element.cost == this.searchQuery.cost) {\n            arr.push(element);\n          }\n        });\n        this.searchedCardList = [...arr];\n      }\n\n      if (this.searchQuery.quality) {\n        // 当选择卡牌品质时\n        let arr = [];\n        this.searchedCardList.forEach(element => {\n          if (element.quality == this.searchQuery.quality) {\n            arr.push(element);\n          }\n        });\n        this.searchedCardList = [...arr];\n      }\n\n      if (this.searchQuery.category) {\n        // 当选择卡牌类别\n        let arr = [];\n        this.searchedCardList.forEach(element => {\n          if (element.category == this.searchQuery.category) {\n            arr.push(element);\n          }\n        });\n        this.searchedCardList = [...arr];\n      }\n\n      this.getCurrPageCardList();\n    },\n\n    goEntryPage() {\n      this.$router.push('entry');\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AAEA;EACAA,WADA;;EAEAC;IACA;IACA;EACA,CALA;;EAMAC;IACA;MACAC,QADA;MAEAC,QAFA;MAGAC,QAHA;MAIAC,WAJA;MAKAC,mBALA;MAMAC,oBANA;MAOAC,YAPA;MAQAC,YARA;MASAC,oBATA;MAUAC,oBAVA;MAWAC,mCAXA;MAYAC;QACAC,WADA;QAEAC,QAFA;QAGAC,QAHA;QAIAC,WAJA;QAKAC;MALA;IAZA;EAoBA,CA3BA;;EA4BAC;IACAC;EADA,CA5BA;EA+BAC;IACA;IACAC;MACA;MACA;MACA;MACA;IACA,CAPA;;IAQA;IACAC;MACA;MACA;MACA;IACA,CAbA;;IAcA;IACAC;MACA;MACA;IACA,CAlBA;;IAmBA;IACAC;MACA;MACA;;MACA;QAAA;QACA;QACA;UACA;YACAC;UACA;QACA,CAJA;QAKA;MACA;;MACA;QAAA;QACA;QACA;UACA;YACAA;UACA;QACA,CAJA;QAKA;MACA;;MACA;QAAA;QACA;QACA;UACA;YACAA;UACA;QACA,CAJA;QAKA;MACA;;MACA;QAAA;QACA;QACA;UACA;YACAA;UACA;QACA,CAJA;QAKA;MACA;;MACA;QAAA;QACA;QACA;UACA;YACAA;UACA;QACA,CAJA;QAKA;MACA;;MACA;IACA,CArEA;;IAsEAC;MACA;IACA;;EAxEA;AA/BA","names":["name","mounted","data","CardList","CardAttr","CardCost","CardQuality","activeLeftNames","activeRightNames","pageIndex","pageSize","currPageCardList","searchedCardList","pageSizeList","searchQuery","kewWord","attr","cost","quality","category","components","cardItem","methods","getCurrPageCardList","pageSizeChange","pageIndexChange","searchCardList","arr","goEntryPage"],"sourceRoot":"src/views","sources":["CardList.vue"],"sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <div class=\"searchBox\">\r\n      <el-input v-model=\"searchQuery.kewWord\" placeholder=\"请输入卡牌名称关键字\" @change=\"searchCardList\" class=\"select-class\"></el-input>\r\n\r\n      <el-input v-model=\"searchQuery.category\" placeholder=\"请输入卡牌类别关键字\" @change=\"searchCardList\" class=\"select-class\"></el-input>\r\n\r\n      <el-select v-model=\"searchQuery.attr\" placeholder=\"请选择卡牌五行属性\" @change=\"searchCardList\" class=\"select-class\" clearable>\r\n        <el-option v-for=\"item in CardAttr\" :key=\"item.value\" :label=\"item.name\" :value=\"item.value\"></el-option>\r\n      </el-select>\r\n\r\n      <el-select v-model=\"searchQuery.cost\" placeholder=\"请选择卡牌费用\" @change=\"searchCardList\" class=\"select-class\" clearable>\r\n        <el-option v-for=\"item in CardCost\" :key=\"item.value\" :label=\"item.name\" :value=\"item.value\"></el-option>\r\n      </el-select>\r\n\r\n      <el-select v-model=\"searchQuery.quality\" placeholder=\"请选择卡牌品质\" @change=\"searchCardList\" class=\"select-class\" clearable>\r\n        <el-option v-for=\"item in CardQuality\" :key=\"item.value\" :label=\"item.name\" :value=\"item.value\"></el-option>\r\n      </el-select>\r\n\r\n      <el-button @click=\"goEntryPage()\" type=\"primary\">查看所有词条解释</el-button>\r\n    </div>\r\n\r\n    <div class=\"cardBox\">\r\n      <cardItem v-for=\"(item, index) in currPageCardList\" :key=\"index\" :card-info=\"item\"/>\r\n    </div>\r\n\r\n    <el-pagination background layout=\"prev, pager, next, sizes, jumper\" :total=\"searchedCardList.length\" class=\"page-class\" :page-sizes=\"pageSizeList\"\r\n      @size-change=\"pageSizeChange\" @current-change=\"pageIndexChange\" :current-page=\"pageIndex\"\r\n    ></el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport cardItem from '../components/cardItem.vue';\r\nimport { CardList } from \"../js/cardListInfo\";\r\nimport { CardAttr, CardCost, CardQuality } from \"../js/cardAttr\";\r\n\r\nexport default {\r\n  name: 'App',\r\n  mounted() {\r\n    this.searchedCardList = [...CardList]\r\n    this.getCurrPageCardList()\r\n  },\r\n  data() {\r\n    return {\r\n      CardList,\r\n      CardAttr,\r\n      CardCost,\r\n      CardQuality,\r\n      activeLeftNames: [],\r\n      activeRightNames: [],\r\n      pageIndex: 1,\r\n      pageSize: 20,\r\n      currPageCardList: [],\r\n      searchedCardList: [],\r\n      pageSizeList: [20, 40, 60, 80, 100],\r\n      searchQuery: {\r\n        kewWord: '',\r\n        attr: '',\r\n        cost: '',\r\n        quality: '',\r\n        category: ''\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    cardItem\r\n  },\r\n  methods: {\r\n    // 获取当前页码的数据\r\n    getCurrPageCardList(){\r\n      this.currPageCardList = []\r\n      const start = (this.pageIndex - 1) * this.pageSize;\r\n      const end = this.pageIndex * this.pageSize;\r\n      this.currPageCardList = this.searchedCardList.slice(start, end);\r\n    },\r\n    // 页面容量改变时\r\n    pageSizeChange(pageSize){\r\n      this.pageIndex = 1\r\n      this.pageSize = pageSize\r\n      this.getCurrPageCardList()\r\n    },\r\n    // 切换页码\r\n    pageIndexChange(pageIndex){\r\n      this.pageIndex = pageIndex\r\n      this.getCurrPageCardList()\r\n    },\r\n    // 搜索功能\r\n    searchCardList(){\r\n      this.pageIndex = 1\r\n      this.searchedCardList = [...CardList]\r\n      if(this.searchQuery.kewWord){ // 当输入关键字时\r\n        let arr = []\r\n        this.searchedCardList.forEach(element => {\r\n          if(element.name.search(this.searchQuery.kewWord) != -1){\r\n            arr.push(element)\r\n          }\r\n        });\r\n        this.searchedCardList = [...arr]\r\n      }\r\n      if(this.searchQuery.attr){ // 当选择五行属性时\r\n        let arr = []\r\n        this.searchedCardList.forEach(element => {\r\n          if(element.attr == this.searchQuery.attr){\r\n            arr.push(element)\r\n          }\r\n        });\r\n        this.searchedCardList = [...arr]\r\n      }\r\n      if(this.searchQuery.cost || this.searchQuery.cost === 0){ // 当选择卡牌费用时\r\n        let arr = []\r\n        this.searchedCardList.forEach(element => {\r\n          if(element.cost == this.searchQuery.cost){\r\n            arr.push(element)\r\n          }\r\n        });\r\n        this.searchedCardList = [...arr]\r\n      }\r\n      if(this.searchQuery.quality){ // 当选择卡牌品质时\r\n        let arr = []\r\n        this.searchedCardList.forEach(element => {\r\n          if(element.quality == this.searchQuery.quality){\r\n            arr.push(element)\r\n          }\r\n        });\r\n        this.searchedCardList = [...arr]\r\n      }\r\n      if(this.searchQuery.category){ // 当选择卡牌类别\r\n        let arr = []\r\n        this.searchedCardList.forEach(element => {\r\n          if(element.category == this.searchQuery.category){\r\n            arr.push(element)\r\n          }\r\n        });\r\n        this.searchedCardList = [...arr]\r\n      }\r\n      this.getCurrPageCardList()\r\n    },\r\n    goEntryPage(){\r\n      this.$router.push('entry')\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n  * {\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n  #app {\r\n    font-family: Avenir, Helvetica, Arial, sans-serif;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n    text-align: center;\r\n    color: #2c3e50;\r\n    padding-bottom: 40px;\r\n  }\r\n  .searchBox{\r\n    height: 60px;\r\n    width: 1200px;\r\n    margin: 0 auto;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n  }\r\n  .cardBox{\r\n    width: 1200px;\r\n    margin: 0 auto;\r\n    display: flex;\r\n    align-items: center;\r\n    flex-wrap: wrap;\r\n    justify-content: space-between;\r\n  }\r\n  .page-class{\r\n    margin: 20 auto;\r\n  }\r\n  .select-class{\r\n    width: 200px !important;\r\n  }\r\n  .collapse-left{\r\n    width: 270px;\r\n  }\r\n  .collapse-right{\r\n    width: 270px;\r\n  }\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}